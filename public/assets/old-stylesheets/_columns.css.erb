<%##
  ## SIDE NAVIGATION
  ##%>

#article {
  background-color: white;
  border: 1px solid #ccc;
  -webkit-box-shadow: <%= "#{@shadow_size}px #{@shadow_size}px #{@shadow_blur}px #{@shadow_color}" %>;
  -moz-box-shadow: <%= "#{@shadow_size}px #{@shadow_size}px #{@shadow_blur}px #{@shadow_color}" %>;
  box-shadow: <%= "#{@shadow_size}px #{@shadow_size}px #{@shadow_blur}px #{@shadow_color}" %>;
  overflow: hidden;
}

#article.with_sidebar {
  <%# i don't know why, but geck needs a little bit of a nudge, hence the 0.5 %>
  width: <%= columns(13) - 0.5 %>%;
  margin-left: <%= columns(3) + gutter %>%;
}

#article.full {
  margin-left: 0;
  width: <%= columns(@columns) %>%;
}

#sidebar {
  display: inline;
  float: left;
  width: <%= columns(3) %>%;
}

@media only screen and (max-width: 590px) {
  #sidebar {
    width: inherit !important;
    display: block;
    float: none;
    margin-bottom: <%=gutter%>%;
  }
  #article.with_sidebar {
    width: inherit !important;
    margin-left: 0 !important;
  }
}

<%##
  ## SPLIT COLUMNS
  ##%>

<% left_width = columns(10) %>
<% right_width = columns(6)  %>
<% left_width_with_padding = left_width - gutter %>
<% right_width_with_padding = right_width - gutter %>

.left_column {
  padding: <%= gutter %>%;
  padding-right: 0;
  float: left;
  width: <%= left_width_with_padding %>%;
}
.right_column {
  padding: <%= gutter %>%;
  padding-left: 0;
  width: <%= right_width_with_padding %>%;
  margin-left: <%= left_width + gutter %>%;
}

@media only screen and (max-width: 590px) {
  <%# I am not exactly sure why inherit is needed here instead of 100% for the width %>
  .left_column {
    width: inherit !important;
    padding-right: <%=gutter%>% !important;
    float: none;
  }
  .right_column {
    width: inherit !important;
    margin-left: 0 !important;
    padding-left: <%=gutter%>% !important;
    float: none;
  }
}

